<% layout('layout', { fullWidth: true, pageTitle: "Veronica & Bishoy's Wedding" }) -%>

<!-- Full-bleed hero -->
<section class="relative w-screen h-[100svh] ml-[calc(50%-50vw)] mr-[calc(50%-50vw)] overflow-hidden isolate">

  <!-- Background photo -->
  <img
    src="/visual_assets/public/index/index_photo02.png"
    alt="Veronica & Bishoy"
    class="absolute inset-0 w-full h-full object-cover object-[50%_35%] z-0 select-none pointer-events-none"
    draggable="false"
    loading="eager"
    fetchpriority="high"
  />

  <!-- Gradient overlays -->
  <div class="absolute inset-0 z-10 pointer-events-none bg-gradient-to-b from-[#B9D6E6]/40 via-[#B9D6E6]/20 to-transparent"></div>
  <div class="absolute inset-0 z-10 pointer-events-none bg-gradient-to-b from-black/70 via-black/30 to-transparent"></div>

  <!-- Hero content -->
  <div class="relative z-20 flex h-full items-center justify-center pointer-events-none">
    <div class="text-center text-white px-6 transform -translate-y-24 md:-translate-y-18 pointer-events-auto">
      <h1 class="serif text-5xl md:text-6xl font-semibold drop-shadow-sm">
        Veronica &amp; Bishoy
      </h1>

      <p class="mt-4 text-lg opacity-90">
        Friday, 3 October 2025 · Berlin
      </p>

      <p class="mt-6 max-w-3xl mx-auto text-base md:text-lg opacity-90">
        <% if (viewer && viewer.name) { %>
          <span class="block mb-1">Dear <span class="font-semibold"><%= viewer.name %></span>,</span>
        <% } %>
        We’re so excited to celebrate with you. Join us for a day filled with love, laughter,
        and cherished moments as we start our next chapter.
      </p>

      <!-- Countdown (simple white text, smaller) -->
      <div class="mt-8 flex items-end justify-center gap-6 text-white">
        <div class="text-center">
          <div id="cd-days" class="text-3xl font-semibold tabular-nums">--</div>
          <div class="text-[10px] uppercase tracking-wide opacity-90">Days</div>
        </div>
        <div class="text-center">
          <div id="cd-hours" class="text-3xl font-semibold tabular-nums">--</div>
          <div class="text-[10px] uppercase tracking-wide opacity-90">Hours</div>
        </div>
        <div class="text-center">
          <div id="cd-mins" class="text-3xl font-semibold tabular-nums">--</div>
          <div class="text-[10px] uppercase tracking-wide opacity-90">Minutes</div>
        </div>
        <div class="text-center">
          <div id="cd-secs" class="text-3xl font-semibold tabular-nums">--</div>
          <div class="text-[10px] uppercase tracking-wide opacity-90">Seconds</div>
        </div>
      </div>

      <p id="cd-label" class="mt-3 text-xs opacity-90 text-white">Counting down to the celebration…</p>

      <div class="mt-6 flex justify-center items-center gap-x-4">
        <button
          id="rsvpBtn"
          type="button"
          class="inline-flex items-center rounded-full bg-[#1E2A44] text-white px-6 py-3 shadow hover:bg-[#2a3b5a]"
          onclick="<% if (viewer) { %>window.location.href='/rsvp'<% } else { %>window.showAccessModal('/rsvp')<% } %>"
        >
          RSVP
        </button>

        <% if (viewer && viewer.group === 'bridesmaids') { %>
        <button
          type="button"
          class="inline-flex items-center rounded-full bg-white/20 text-white px-4 py-2 text-sm shadow hover:bg-white/30"
          onclick="window.location.href='/bridesmaids'"
        >
          Bridesmaids Info
        </button>
        <% } %>
        <% if (viewer && viewer.group === 'groomsmen') { %>
        <button
          type="button"
          class="inline-flex items-center rounded-full bg-white/20 text-white px-4 py-2 text-sm shadow hover:bg-white/30"
          onclick="window.location.href='/groomsmen'"
        >
          Groomsmen Info
        </button>
        <% } %>
      </div>
    </div>
  </div>
</section>

<!-- Content anchors -->
<section id="timeline" class="max-w-6xl mx-auto px-4 py-24">
  <h2 class="serif text-3xl mb-4">Timeline</h2>
  <p class="text-stone-600">Coming soon…</p>
</section>

<section id="locations" class="bg-stone-50/60 border-y">
  <div class="max-w-6xl mx-auto px-4 py-24">
    <h2 class="serif text-3xl mb-12">Locations</h2>
    <div class="space-y-8">
      <!-- Location 1: Ceremony -->
      <div class="flex flex-col md:flex-row items-start md:items-center justify-between">
        <div>
          <h3 class="serif text-2xl mb-1">Ceremony</h3>
          <p class="text-stone-800 font-semibold">Schloss Schönhausen</p>
          <p class="text-stone-600">Tschaikowskistraße 1, 13156 Berlin</p>
        </div>
        <a href="https://www.google.com/maps/dir/?api=1&destination=Schloss+Schönhausen,+Tschaikowskistraße+1,+13156+Berlin"
           target="_blank" rel="noopener noreferrer"
           class="inline-flex items-center gap-2 mt-4 md:mt-0 bg-white border border-stone-300 px-4 py-2 rounded-full hover:bg-stone-100 transition-colors text-sm">
          <img src="/visual_assets/public/gmaps.svg" alt="" class="h-5 w-5" />
          Show me directions
        </a>
      </div>
      <!-- Location 2: Party -->
      <div class="flex flex-col md:flex-row items-start md:items-center justify-between">
        <div>
          <h3 class="serif text-2xl mb-1">Party</h3>
          <p class="text-stone-800 font-semibold">Ermelerhaus</p>
          <p class="text-stone-600">Märkisches Ufer 10, 10179 Berlin</p>
        </div>
        <a href="https://www.google.com/maps/dir/?api=1&destination=Ermelerhaus,+Märkisches+Ufer+10,+10179+Berlin"
           target="_blank" rel="noopener noreferrer"
           class="inline-flex items-center gap-2 mt-4 md:mt-0 bg-white border border-stone-300 px-4 py-2 rounded-full hover:bg-stone-100 transition-colors text-sm">
          <img src="/visual_assets/public/gmaps.svg" alt="" class="h-5 w-5" />
          Show me directions
        </a>
      </div>
    </div>
  </div>
</section>

<section id="registry" class="max-w-6xl mx-auto px-4 py-24">
  <h2 class="serif text-3xl mb-4">Registry</h2>
  <p class="text-stone-600">Coming soon…</p>
</section>

<section id="faqs" class="bg-stone-50/60 border-y py-24">
  <div class="max-w-6xl mx-auto px-4">
    <h2 class="serif text-3xl mb-4">FAQs</h2>
    <p class="text-stone-600">Coming soon…</p>
  </div>
</section>

<script>
  // --- Countdown (Berlin time) ---
  (function(){
    const target = new Date('2025-10-03T12:00:00+02:00'); // Europe/Berlin
    const d = document.getElementById('cd-days');
    const h = document.getElementById('cd-hours');
    const m = document.getElementById('cd-mins');
    const s = document.getElementById('cd-secs');
    const lbl = document.getElementById('cd-label');
    const pad = n => String(n).padStart(2,'0');

    function update(){
      const now = new Date();
      let diff = target - now;

      if (diff <= 0) {
        d.textContent = '00'; h.textContent = '00'; m.textContent = '00'; s.textContent = '00';
        const bNow = new Date(now.toLocaleString('en-GB', { timeZone: 'Europe/Berlin' }));
        const bTar = new Date(target.toLocaleString('en-GB', { timeZone: 'Europe/Berlin' }));
        const same = bNow.getFullYear()===bTar.getFullYear() && bNow.getMonth()===bTar.getMonth() && bNow.getDate()===bTar.getDate();
        lbl.textContent = same ? "It's today! 🎉" : "Happily ever after has begun 💍";
        return;
      }

      const sec = Math.floor(diff/1000);
      const dd  = Math.floor(sec/86400);
      const hh  = Math.floor((sec % 86400) / 3600);
      const mm  = Math.floor((sec % 3600) / 60);
      const ss  = sec % 60;

      d.textContent = String(dd);
      h.textContent = pad(hh);
      m.textContent = pad(mm);
      s.textContent = pad(ss);
      lbl.textContent = "Counting down to the celebration…";
    }

    (function tick(){
      update();
      const now = Date.now();
      setTimeout(tick, 1000 - (now % 1000));
    })();
  })();
</script>